<div class="auth-page">
  <!-- Top brand bar -->
  <header class="auth-header">
    <div class="brand-left">
      <span class="brand-icon">⚡</span>
      <span class="brand-text">HabitFlow</span>
    </div>

    <div class="brand-right">
      <span class="header-caption">New here?</span>
      <a routerLink="/auth/signup" class="header-link">Sign up</a>
    </div>
  </header>

  <!-- Center card -->
  <main class="auth-main">
    <section class="auth-card">
      <h1 class="auth-title">Welcome back</h1>
      <p class="auth-subtitle">
        Log in to keep your habits, streaks and stats in sync.
      </p>

      <!-- Login form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">

        <!-- Email Field -->
        <div class="field">
          <label for="email">Email*</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="you@example.com"
          />

          <div class="field-error" *ngIf="email?.touched && email?.invalid">
            <small *ngIf="email?.errors?.['required']">
              Email is required
            </small>
            <small *ngIf="email?.errors?.['email']">
              Please enter a valid email
            </small>
          </div>
        </div>

        <!-- Password Field -->
        <div class="field">
          <label for="password">Password*</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="••••••••"
          />

          <div class="field-error" *ngIf="password?.touched && password?.invalid">
            <small *ngIf="password?.errors?.['required']">
              Password is required
            </small>
            <small *ngIf="password?.errors?.['minlength']">
              Password must be at least 6 characters
            </small>
          </div>
        </div>

        <!-- Global error -->
        <p class="auth-error" *ngIf="errorMessage">
          {{ errorMessage }}
        </p>

        <!-- Submit button -->
        <button
          type="submit"
          class="primary-btn"
          [disabled]="loginForm.invalid || loading"
        >
          <span *ngIf="!loading">Login</span>
          <span *ngIf="loading">Logging in...</span>
        </button>
      </form>

      <!-- Footer link -->
      <p class="auth-footer-text">
        Don’t have an account?
        <a routerLink="/auth/signup">Sign up</a>
      </p>
    </section>
  </main>
</div>
